$(function(){function e(e,t){var n=[];for(var o in t)n.push(o+"="+encodeURI(t[o]));return n.length>0?e+"?"+n.join("&"):e}function t(){return a.value}var n=function(e){var t={};return e.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,n,o,i){t[n]=i}),t},o="www.ratex.co/rates",i="https://ratex.co/api/",r=n(window.location.search),c=o,a=document.getElementById("Unique-Link"),l=document.getElementById("copy-link"),u=document.getElementById("facebook-share"),d=document.getElementById("twitter-share"),s=document.getElementById("text-name-points");r.h?$.ajax({method:"GET",url:i+"referral_campaign/"+r.h}).done(function(e){c+="?r="+r.h,a.value=c,s.textContent=s.textContent.replace("{{name}}",e.data.name),s.textContent=s.textContent.replace("{{points}}",e.data.points)}).fail(function(e){console.log("retrieve handle info error:",e),404===e.status&&(window.location.href=c)}):window.location.href=c,$.getScript("https://cdn.rawgit.com/zenorocha/clipboard.js/v1.7.1/dist/clipboard.min.js").done(function(){l.onclick=function(e){e.preventDefault()};var e=new Clipboard(l,{text:function(){return t()}});e.on("success",function(e){e.clearSelection()}),e.on("error",function(e){})}),$.getScript("https://connect.facebook.net/en_US/sdk.js").done(function(){FB.init({appId:"1937545656511187",xfbml:!1,version:"v2.11"}),u.onclick=function(){FB.ui({method:"share",display:"popup",href:c}),console.log("clicked")}}),d.onclick=function(){window.open(e("https://twitter.com/share",{url:c,text:"Can’t wait for RateX’s new mobile launch - use my referral link and we’ll both get points to redeem cool prizes:",via:"ratex_sg"}),"_blank","resizable=yes,width=550,height=450")}});
