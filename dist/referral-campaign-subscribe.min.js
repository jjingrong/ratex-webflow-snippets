$(function(){function a(){O.setAttribute("disabled",!0),P.setAttribute("disabled",!0)}function b(){O.removeAttribute("disabled"),P.removeAttribute("disabled"),P.value=ka}function c(sa){T.textContent=sa,S.style.display="block",b()}function d(){S.style.display="none",P.value=P.dataset.wait,a()}function f(){R.style.display="block",N.style.display="none"}function g(){V.removeAttribute("disabled"),W.removeAttribute("disabled")}function h(){X.setAttribute("disabled",!0),X.style.backgroundImage="linear-gradient(90deg, grey, grey, grey)"}function i(){X.removeAttribute("disabled"),X.style.backgroundImage=null}function j(sa){X.value=0<sa?la.trim()+" ("+(sa+")"):la}function k(){V.setAttribute("disabled",!0),W.setAttribute("disabled",!0),X.setAttribute("disabled",!0)}function l(){V.removeAttribute("disabled"),W.removeAttribute("disabled"),X.removeAttribute("disabled"),X.value=la}function m(sa){aa.textContent=sa,_.style.display="block",l()}function n(){Y.style.display="block"}function o(){_.style.display="none",X.value=X.dataset.wait,k()}function p(){Y.style.display=null}function r(){da.removeAttribute("disabled"),da.removeAttribute("disabled"),ea.value=ma}function s(){ha.style.display="block"}function t(){da.setAttribute("disable",!0),ea.setAttribute("disable",!0),ea.value=ea.dataset.wait}function u(sa){ja.textContent=sa,ia.style.display="block",r()}function v(){ha.style.display=null}function w(sa){ba.textContent=oa.join(sa)}function x(){fa.style.pointerEvents="none",fa.style.color="grey"}function y(){fa.style.pointerEvents=null,fa.style.color=null}function z(sa){fa.textContent=0<sa?pa+" ("+sa+")":pa}function A(sa){return /^[a-zA-Z]+(\s?[a-zA-Z])*$/.test(sa)}function B(sa){return /^[9863]\d{7}$/.test(sa)}function C(sa,ta,ua){function va(Aa){h(),j(Aa),x(),z(Aa)}function wa(Aa){z(Aa),j(Aa)}function xa(){i(),y()}if(!ra){var ya=30;ra=!0,va(ya),"function"==typeof sa&&sa(ya);var za=setInterval(function(){ya--,wa(ya),"function"==typeof ta&&ta(ya),0>=ya&&(ra=!1,clearInterval(za),xa(ya),"function"==typeof ua&&ua(ya))},1e3)}}var E=function(sa){var ta={};return sa.replace(/([^?=&]+)(=([^&]*))?/g,function(ua,va,wa,xa){ta[va]=xa}),ta}(window.location.search),F="https://www.ratex.co/",G="https://ratex.co/api/",I="Oops! Something went wrong. Please try again!",N=document.getElementById("wf-form-enter-email"),O=document.getElementById("input-email"),P=document.getElementById("submit-email"),Q=N.parentNode,R=Q.querySelector(".w-form-done"),S=Q.querySelector(".w-form-fail"),T=S.querySelector("div"),U=document.getElementById("wf-form-enter-phone-number"),V=document.getElementById("input-name"),W=document.getElementById("input-phone-number"),X=document.getElementById("submit-phone-number"),Y=U.parentNode,Z=Y.querySelector(".w-form-done"),_=Y.querySelector(".w-form-fail"),aa=_.querySelector("div"),ba=document.getElementById("text-otp"),ca=document.getElementById("wf-form-enter-otp"),da=document.getElementById("input-otp"),ea=document.getElementById("submit-otp"),fa=document.getElementById("link-resend-otp"),ga=document.getElementById("link-reenter-phone"),ha=ca.parentNode,ia=ha.querySelector(".w-form-fail"),ja=ia.querySelector("div"),ka=P.value,la=X.value,ma=ea.value,na=ba.textContent,oa=na.split("{{PHONE_NUMBER}}"),pa=fa.textContent,qa,ra=!1;N.onclick=function(sa){if(O.checkValidity()){sa.preventDefault();var ta={email:O.value};E.r&&(ta.referrer=E.r),$.ajax({method:"POST",url:G+"referral_campaign/subscribe",data:ta}).done(function(ua){ua.data&&ua.data.handle?window.location.href=F+"rates-refer?h="+ua.data.handle:(f(),n())}).fail(function(ua){var va;try{va=JSON.parse(ua.responseText).message}catch(wa){}c(va||I)}),d()}},V.oninput=function(sa){A(sa.target.value)?sa.target.setCustomValidity(""):sa.target.setCustomValidity("Please enter a valid name.")},W.oninput=function(sa){B(sa.target.value)?sa.target.setCustomValidity(""):sa.target.setCustomValidity("Please enter a valid phone number.")},X.onclick=function(sa){if(V.checkValidity()&&W.checkValidity()){sa.preventDefault();var ta={email:O.value,name:V.value,phone_no:W.value};E.r&&(ta.referrer=E.r),$.ajax({method:"POST",url:G+"referral_campaign",data:ta}).done(function(ua){qa=ua.data.token_id,p(),w(ta.phone_no),s(),C()}).fail(function(ua){var va;try{va=JSON.parse(ua.responseText).message}catch(wa){}m(va||I)}),o()}},ea.onclick=function(sa){var ta=da.value;if(ta){sa.preventDefault();var ua={email:O.value,name:V.value,phone_no:W.value,token:da.value,token_id:qa};E.r&&(ua.referrer=E.r),$.ajax({method:"POST",url:G+"referral_campaign",data:ua}).done(function(va){var wa=va.data.handle;window.location.href=F+"rates-refer?h="+wa}).fail(function(va){da.value="";var wa;try{wa=JSON.parse(va.responseText).message}catch(xa){}u(wa||I)}),t()}},fa.onclick=function(){var sa={email:O.value,name:V.value,phone_no:W.value};E.r&&(sa.referrer=E.r),$.ajax({method:"POST",url:G+"referral_campaign",data:sa}).done(function(ta){qa=ta.data.token_id,p(),w(sa.phone_no),s(),C()}).fail(function(ta){y(),fa.textContent=pa;var ua;try{ua=JSON.parse(ta.responseText).message}catch(va){}u(ua||I)}),x(),fa.textContent="Resending.."},ga.onclick=function(){v(),n(),g()}});
