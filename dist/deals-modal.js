$(function () { const t = function () { (function () { const e = ".product-modal-popup-wrapper", o = (window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver, new MutationObserver(function (o) { o.forEach(function (o) { "style" == o.attributeName && o.target.style.display != t.modalPreviousState && "attributes" == o.type && ($(e).is(":visible") && (t.onModalShow(), t.modalPreviousState = "block"), $(e).is(":hidden") && (t.onModalDismiss(), t.modalPreviousState = "none")) }) })); o.observe(document.querySelector(e), { attributes: !0 }) })(), function () { $(".slick-track > .deals").each(function (e, o) { $(o).on("click", function () { t.onCardClicked(o) }) }) }(), function () { const t = document.getElementsByClassName("product-content-wraper")[0]; t.addEventListener("touchstart", function (t) { this.allowUp = this.scrollTop > 0, this.allowDown = this.scrollTop < this.scrollHeight - this.clientHeight, this.prevTop = null, this.prevBot = null, this.lastY = t.pageY }), t.addEventListener("touchmove", function (t) { var e = t.pageY > this.lastY, o = !e; this.lastY = t.pageY, e && this.allowUp || o && this.allowDown ? t.stopPropagation() : t.preventDefault() }) }(); return { defaultObject: { imageSrc: $(".product-modal-popup-wrapper .product-content-wraper").find(".image-43").attr("src"), title: $(".product-modal-popup-wrapper .product-content-wraper").find(".heading-9").html(), description: null, starsSrc: $(".product-modal-popup-wrapper .product-content-wraper").find(".image-46").attr("src"), reviewsCount: $(".product-modal-popup-wrapper .product-content-wraper").find("#reviews-count").html(), itemUrl: "#", buttonText: "" }, selectedObject: {}, modalPreviousState: "none", modalContainer: $(".product-modal-popup-wrapper .product-content-wraper"), onCardClicked: function (e) { const o = $(e); t.selectedObject = { imageSrc: o.find(".thumbnail-image").attr("src"), title: o.find(".product-name").html(), description: o.find("#description-container ul").html(), starsSrc: o.find("#star-rating").attr("src"), reviewsCount: o.find("#reviews-count").html(), itemUrl: o.find(".product-page").html(), buttonText: o.find("#cta-price").html() } }, onModalDismiss: function () { $("html, body").css({ overflow: "auto" }), t.selectedObject = t.defaultObject, t.renderModal(t.modalContainer, t.defaultObject) }, onModalShow: function () { $("html, body").css({ overflow: "hidden" }), t.renderModal(t.modalContainer, t.selectedObject), t.renderCallToActionButton(t.modalContainer) }, renderModal: function (t, e) { t.find(".image-43").attr("src", e.imageSrc), t.find(".heading-9").html(e.title), t.find(".paragraph-2").html(e.description), t.find(".image-46").attr("src", e.starsSrc), t.find(".text-block-19").text(e.reviewsCount) }, renderCallToActionButton: function (e) { const o = document.getElementById("ratex-extension-is-installed"), n = !!window.chrome && !!window.chrome.webstore; navigator.userAgent.indexOf("Firefox") > 0; !o && n ? (e.find(".cta-wrapper").show(), e.find("#cta-buy").hide(), e.find(".cta-wrapper").find(".link-11").attr("href", t.selectedObject.itemUrl)) : (e.find(".cta-wrapper").hide(), e.find("#cta-buy").show(), e.find("#cta-buy").attr("href", t.selectedObject.itemUrl), e.find("#cta-buy").text(t.selectedObject.buttonText)) } } }() });