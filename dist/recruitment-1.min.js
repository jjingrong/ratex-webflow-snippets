({933:function(){var t,n=this&&this.__extends||(t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)},function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),e=this&&this.__assign||function(){return(e=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,n,e,o){return new(e||(e=Promise))((function(i,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function s(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},i=this&&this.__generator||function(t,n){var e,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=n.call(t,a)}catch(t){r=[6,t],o=0}finally{e=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};$((function(){var t=function(t,n,e){t.style.borderColor="red",n.innerText=e,n.style.visibility=""},r=function(t,n){t.style.borderColor="",n.style.visibility="hidden"},a=function(t,n){t&&(n?t.setAttribute("readonly","true"):t.removeAttribute("readonly"))},s=function(t){function e(n,e,o){var i=t.call(this,n)||this;return i.status=e,i.data=o,i}return n(e,t),e}(Error),l=function(){function t(t){var n=this;this.requestHeaders={},this.setHeaders=function(t){n.requestHeaders=n.combineHeaders(n.requestHeaders,t)},this.request=function(t,o,i){var r=(null==i?void 0:i.headers)?n.combineHeaders(n.requestHeaders,i.headers):n.requestHeaders;return new Promise((function(a,l){$.ajax(e(e({method:t,url:""+n.baseUrl+o,headers:r,dataType:"json",contentType:"application/json"},"object"==typeof i&&"data"in i?{data:JSON.stringify(i.data)}:null),{success:function(t,n,e){a({status:e.status,data:t})},error:function(t,n){l(new s(n,t.status,null==t?void 0:t.responseJSON))}}))}))},this.baseUrl=t.baseUrl,t.headers&&this.setHeaders(t.headers)}return t.prototype.combineHeaders=function(t,n){var e={},o=function(t,n){Object.keys(n).forEach((function(e){t[e]=n[e]}))};return t&&o(e,t),o(e,n),e},t}(),u=function(t){var n=this;this.onActive=function(){},this.onInactive=function(){},this.getElement=function(){return document.getElementById(n.id)},this.id=t},d=function(t,n){var e=this;this.isInitialized=!1,this.fieldsValidity=[],this.lastFieldsValidity=[],this.lastFormValidState=null,this.validityChangeCallback=null,this.initialize=function(){if(e.isInitialized)console.warn("Form id "+e.formId+" already initialized.");else if(e.getFormElement()){var t=e.getFormFieldElements();if(-1===t.findIndex((function(t){return null===t}))){var n=[];return t.forEach((function(t,o){var i=function(t){var n=t.target.value;e.fieldsValidity[o]=!e.fieldConfigs[o].validator||e.fieldConfigs[o].validator(n),e.updateFormValidState()};t.addEventListener("input",i),n.push((function(){t.removeEventListener("input",i)})),e.fieldsValidity[o]=!e.fieldConfigs[o].validator||e.fieldConfigs[o].validator(t.value)})),e.unsubscribeFieldInputListeners=function(){n.forEach((function(t){t()}))},e.isInitialized=!0,e.getFormValidState()}console.warn("Form id "+e.formId+" has missing field input(s).")}else console.warn("Form id "+e.formId+" does not exist.")},this.deinitialize=function(){e.isInitialized&&(e.unsubscribeFieldInputListeners(),e.validityChangeCallback=null,e.isInitialized=!1)},this.getFormValidState=function(){return 0===e.fieldsValidity.length||-1===e.fieldsValidity.findIndex((function(t){return!1===t}))},this.onValidityChange=function(t){e.validityChangeCallback=t},this.forceValidityUpdate=function(){e.getFormFieldElements().forEach((function(t,n){e.fieldsValidity[n]=!e.fieldConfigs[n].validator||e.fieldConfigs[n].validator(t.value)})),e.updateFormValidState()},this.getFormData=function(){var t=e.getFormElement();return t?new FormData(t):null},this.getFormElement=function(){return document.querySelector("form#"+e.formId)},this.getFormFieldElements=function(){var t=e.getFormElement();return e.fieldConfigs.map((function(n){return t.querySelector('input[name="'+n.name+'"]')}))},this.updateFormValidState=function(){var t=e.getFormFieldElements();e.fieldsValidity.forEach((function(n,o){var i=e.lastFieldsValidity[o]!==n;e.lastFieldsValidity[o]=n,i&&"function"==typeof e.fieldConfigs[o].onValidityChange&&e.fieldConfigs[o].onValidityChange(n,t[o])}));var n=e.getFormValidState(),o=n!==e.lastFormValidState;e.lastFormValidState=n,o&&"function"==typeof e.validityChangeCallback&&e.validityChangeCallback(n)},this.formId=t,this.fieldConfigs=n},c=document.createElement("style");c.setAttribute("type","text/css"),c.innerHTML="\n/** General loading indicator styling */\n.lds-ring {\n  display: inline-block;\n  position: relative;\n}\n.lds-ring div {\n  box-sizing: border-box;\n  display: block;\n  position: absolute;\n  width: 64px;\n  height: 64px;\n  border: 8px solid #fff;\n  border-radius: 50%;\n  animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  border-color: #fff transparent transparent transparent;\n}\n.lds-ring div:nth-child(1) {\n  animation-delay: -0.45s;\n}\n.lds-ring div:nth-child(2) {\n  animation-delay: -0.3s;\n}\n.lds-ring div:nth-child(3) {\n  animation-delay: -0.15s;\n}\n@keyframes lds-ring {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n/** Button loading indicator styling */\n.button-spinner-wrapper {\n  display: flex;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  justify-content: center;\n  align-items: center;\n}\n.button-spinner-wrapper .lds-ring {\n  width: 32px;\n  height: 32px;\n}\n.button-spinner-wrapper .lds-ring div {\n  width: 32px;\n  height: 32px;\n  border: 4px solid #9c9c9c;\n  border-color: #9c9c9c transparent transparent transparent;\n}\n\n/** Resend otp loading indicator styling */\n.resend-spinner {\n  display: inline;\n  vertical-align: middle;\n}\n.resend-spinner .lds-ring {\n  width: 16px;\n  height: 16px;\n}\n.resend-spinner .lds-ring div {\n  width: 16px;\n  height: 16px;\n  border: 2px solid #9e9e9e;\n  border-color: #9e9e9e transparent transparent transparent;\n}",document.getElementsByTagName("head")[0].appendChild(c);var f=function(t){var n=this;this.interval=null,this.onTickCallback=null,this.setSeconds=function(t){n.seconds=Math.max(0,t||0),n.clearTimer()},this.start=function(){var t=n.seconds;t>0&&("function"==typeof n.onTickCallback&&n.onTickCallback(t),n.interval=setInterval((function(){t-=1,"function"==typeof n.onTickCallback&&n.onTickCallback(t),0===t&&n.clearTimer()}),1e3))},this.clearTimer=function(){"number"==typeof n.interval&&clearInterval(n.interval)},this.setOnTick=function(t){n.onTickCallback=t},this.setSeconds(t)},p=new l({baseUrl:"ratesapp.co.id"===location.hostname?"https://ratesapp.co.id/rs/api":"https://staging.ratesapp.co.id/rs/api",headers:{"Accept-Language":"id-ID"}}),m=function(){p.request("DELETE","/users/sessions")},h=function(t){var n=document.getElementById("referral-code");n&&(n.style.opacity=t?"1":"0")},g=new(function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.onActive=function(){n.setupMainButton()},n.onInactive=function(){n.teardownMainButton()},n.setupMainButton=function(){j.setText("Mulai"),j.setClickable(!0),j.setOnClick((function(t){t.preventDefault(),J.goToSection(v)}))},n.teardownMainButton=function(){j.setOnClick(null)},n}return n(e,t),e}(u))("step-1"),v="step-2",I="phone-form",y="phone-input",b="phone",F="invalid-phone-error",w=new(function(e){function s(){var n=null!==e&&e.apply(this,arguments)||this;return n.formPhoneInput=document.getElementById(y),n.formPhoneInputIntlInstance=window.intlTelInputGlobals.getInstance(n.formPhoneInput),n.form=document.getElementById(I),n.formManager=new d(I,[{name:b,validator:function(t){return/^[+]?\d+$/.test(t)&&n.formPhoneInputIntlInstance.isValidNumber()}}]),n.formPhoneInputInvalidElement=document.getElementById(F),n.isFormLoading=!1,n.isFormValid=!1,n.onActive=function(){n.setupForm(),n.setupMainButton()},n.onInactive=function(){n.teardownForm(),n.teardownMainButton()},n.setupMainButton=function(){j.setText("Lanjut"),j.setOnClick((function(t){t.preventDefault(),n.submitForm()}))},n.teardownMainButton=function(){j.setOnClick(null)},n.setupForm=function(){var t,e;null===(t=n.formPhoneInput)||void 0===t||t.addEventListener("countrychange",n.handleFormPhoneInputCountryChange),null===(e=n.formPhoneInput)||void 0===e||e.addEventListener("input",n.handleFormPhoneInputChange),n.form.onsubmit=function(t){t.preventDefault(),n.submitForm()},n.formManager.onValidityChange(n.setIsFormValid),n.formManager.initialize(),n.setIsFormValid(n.formManager.getFormValidState()),r(n.formPhoneInput,n.formPhoneInputInvalidElement)},n.teardownForm=function(){var t,e;null===(t=n.formPhoneInput)||void 0===t||t.removeEventListener("countrychange",n.handleFormPhoneInputCountryChange),null===(e=n.formPhoneInput)||void 0===e||e.removeEventListener("input",n.handleFormPhoneInputChange),n.form.onsubmit=void 0,n.formManager.onValidityChange(null),n.formManager.deinitialize()},n.handleFormPhoneInputCountryChange=function(){r(n.formPhoneInput,n.formPhoneInputInvalidElement),n.formManager.forceValidityUpdate()},n.handleFormPhoneInputChange=function(){r(n.formPhoneInput,n.formPhoneInputInvalidElement)},n.setFormPhoneInputReadonly=function(t){a(n.formPhoneInput,t)},n.submitForm=function(){return o(n,void 0,void 0,(function(){var n,e,o,a,s;return i(this,(function(i){switch(i.label){case 0:if(this.isFormLoading||!this.isFormValid)return[2];r(this.formPhoneInput,this.formPhoneInputInvalidElement),this.setIsFormLoading(!0),n=this.formPhoneInputIntlInstance.getNumber(),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,p.request("POST","/v2/users/sessions/otp/new",{data:{phoneNumber:n}})];case 2:return e=i.sent().data.data.cooldownLeft,N=n,U=e,this.setIsFormLoading(!1),J.goToSection(C),[3,4];case 3:return o=i.sent(),(a=null===(s=null==o?void 0:o.data)||void 0===s?void 0:s.message)||(a="Proses memuat halaman belum berhasil. Silakan coba lagi"),t(this.formPhoneInput,this.formPhoneInputInvalidElement,a),this.setIsFormLoading(!1),[3,4];case 4:return[2]}}))}))},n.setIsFormValid=function(t){n.isFormValid=t,n.updateState()},n.setIsFormLoading=function(t){n.isFormLoading=t,n.updateState()},n.updateState=function(){var t=n.isFormLoading;n.setFormPhoneInputReadonly(t);var e=n.isFormValid&&!n.isFormLoading;j.setClickable(e),j.setShowLoading(n.isFormLoading)},n}return n(s,e),s}(u))(v),C="step-3",B="otp-phone-number",O="otp-form",E="otp-input",S="otp",T="invalid-otp-error",L="otp-cooldown",P="cooldown-timer",k="change-phone",x=new(function(e){function s(){var n=null!==e&&e.apply(this,arguments)||this;return n.otpPhoneNumberText=document.getElementById(B),n.otpCountdown=new f(0),n.otpResendButton=document.getElementById(L),n.otpCooldownTimerText=document.getElementById(P),n.isOtpResending=!1,n.isOtpCooldown=!1,n.changePhoneButton=document.getElementById(k),n.form=document.getElementById(O),n.formOtpInput=document.getElementById(E),n.formManager=new d(O,[{name:S,validator:function(t){return t&&6===t.length}}]),n.formOtpInputInvalidElement=document.getElementById(T),n.isFormLoading=!1,n.isFormValid=!1,n.onActive=function(){n.updateOtpPhoneNumber(),n.setupOtpResendButton(),n.setupChangePhoneButton(),n.setupForm(),n.setupMainButton()},n.onInactive=function(){n.teardownOtpResendButton(),n.teardownChangePhoneButton(),n.teardownForm(),n.teardownMainButton()},n.updateOtpPhoneNumber=function(){n.otpPhoneNumberText&&(n.otpPhoneNumberText.innerText=N)},n.setupOtpResendButton=function(){var t=Math.max(0,U);n.otpCountdown.setSeconds(t),n.otpCountdown.setOnTick((function(t){t<=0?(n.setOtpResendButtonDisplayCooldown(0),n.setIsOtpCooldown(!1)):(n.setOtpResendButtonDisplayCooldown(t),n.setIsOtpCooldown(!0))})),0===t?(n.setOtpResendButtonDisplayCooldown(t),n.setIsOtpCooldown(!1)):n.otpCountdown.start(),n.otpResendButton.onclick=function(t){t.preventDefault(),n.resendOtp()}},n.teardownOtpResendButton=function(){U=0,n.setIsOtpCooldown(!1),n.setIsOtpResending(!1),n.otpCountdown.clearTimer(),n.otpCountdown.setOnTick(null),n.otpResendButton.onclick=void 0,n.lastResendOtpButtonInactiveTime=Date.now()},n.setOtpResendButtonDisplayCooldown=function(t){if(n.otpCooldownTimerText)if(t<=0)n.otpCooldownTimerText.innerText="";else{var e=Math.floor(t/60),o=t%60;n.otpCooldownTimerText&&(n.otpCooldownTimerText.innerText=" "+e+":"+(o<10?"0"+o:o))}},n.setOtpResendButtonDisabled=function(t){t?n.otpResendButton&&(n.otpResendButton.setAttribute("tabIndex","-1"),n.otpResendButton.style.pointerEvents="none",n.otpResendButton.style.cursor="default",n.otpResendButton.style.color=""):n.otpResendButton&&(n.otpResendButton.setAttribute("tabIndex","0"),n.otpResendButton.style.pointerEvents="",n.otpResendButton.style.cursor="",n.otpResendButton.style.color="#f26e64")},n.resendOtp=function(){return o(n,void 0,void 0,(function(){var t,n,e,o,r,a;return i(this,(function(i){switch(i.label){case 0:if(this.isOtpResending||this.isOtpCooldown||this.isFormLoading)return[2];this.setIsOtpResending(!0),t=Date.now(),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,p.request("POST","/v2/users/sessions/otp/new",{data:{phoneNumber:N}})];case 2:return o=i.sent().data.data.cooldownLeft,n=o,[3,4];case 3:return r=i.sent(),(e=null===(a=null==r?void 0:r.data)||void 0===a?void 0:a.message)||(e="Proses memuat halaman belum berhasil. Silakan coba lagi"),[3,4];case 4:return null!==this.lastResendOtpButtonInactiveTime&&this.lastResendOtpButtonInactiveTime>t||(this.setIsOtpResending(!1),void 0!==n?(this.otpCountdown.setSeconds(n),this.otpCountdown.start()):window.alert(e)),[2]}}))}))},n.setupChangePhoneButton=function(){n.changePhoneButton.onclick=function(t){t.preventDefault(),J.goToSection(v)}},n.teardownChangePhoneButton=function(){n.changePhoneButton.onclick=void 0},n.setChangePhoneButtonDisabled=function(t){t?n.changePhoneButton&&(n.changePhoneButton.setAttribute("tabIndex","-1"),n.changePhoneButton.style.pointerEvents="none",n.changePhoneButton.style.cursor="default"):n.changePhoneButton&&(n.changePhoneButton.setAttribute("tabIndex","0"),n.changePhoneButton.style.pointerEvents="",n.changePhoneButton.style.cursor="")},n.setupMainButton=function(){j.setText("Lanjut"),j.setOnClick((function(t){t.preventDefault(),n.submitForm()}))},n.teardownMainButton=function(){j.setOnClick(null)},n.setupForm=function(){var t;null===(t=n.formOtpInput)||void 0===t||t.addEventListener("input",n.handleFormOtpInputChange),n.form.onsubmit=function(t){t.preventDefault(),n.submitForm()},n.formManager.onValidityChange(n.setIsFormValid),n.formManager.initialize(),n.setIsFormValid(n.formManager.getFormValidState()),r(n.formOtpInput,n.formOtpInputInvalidElement)},n.teardownForm=function(){var t;null===(t=n.formOtpInput)||void 0===t||t.removeEventListener("input",n.handleFormOtpInputChange),n.form.onsubmit=void 0,n.formManager.onValidityChange(null),n.formManager.deinitialize(),n.setIsFormValid(n.formManager.getFormValidState())},n.handleFormOtpInputChange=function(){r(n.formOtpInput,n.formOtpInputInvalidElement)},n.setFormOtpInputReadonly=function(t){a(n.formOtpInput,t)},n.submitForm=function(){return o(n,void 0,void 0,(function(){var n,e,o,a,s,l,u,d,c,f,h,g,v,I;return i(this,(function(i){switch(i.label){case 0:if(this.isFormLoading||!this.isFormValid)return[2];r(this.formOtpInput,this.formOtpInputInvalidElement),this.setIsFormLoading(!0),n=this.formManager.getFormData(),e=null==n?void 0:n.get(S),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,p.request("POST","/v2/users/sessions/otp/auth",{data:{phoneNumber:N,otp:e}})];case 2:return s=i.sent().data.data._token,o=s,[3,4];case 3:return l=i.sent(),(a=null===(f=null==l?void 0:l.data)||void 0===f?void 0:f.message)||(a="Proses memuat halaman belum berhasil. Silakan coba lagi"),[3,4];case 4:if(!o)return[3,9];p.setHeaders({Authorization:"Bearer "+o}),i.label=5;case 5:return i.trys.push([5,7,,8]),[4,p.request("POST","/v2/users/me/use-referral-code",{data:{code:q}})];case 6:return i.sent(),m(),location.assign("/signup-success"),[2];case 7:return u=i.sent(),this.setIsFormLoading(!1),d=null===(h=u)||void 0===h?void 0:h.status,c=null===(g=u)||void 0===g?void 0:g.data,422===d&&1533===(null===(I=null===(v=c)||void 0===v?void 0:v.data)||void 0===I?void 0:I.code)?(m(),J.goToSection(_),[2]):(J.goToSection(R),[3,8]);case 8:return[3,10];case 9:t(this.formOtpInput,this.formOtpInputInvalidElement,a),i.label=10;case 10:return this.setIsFormLoading(!1),[2]}}))}))},n.setIsOtpCooldown=function(t){n.isOtpCooldown=t,n.updateState()},n.setIsOtpResending=function(t){n.isOtpResending=t,n.updateState()},n.setIsFormValid=function(t){n.isFormValid=t,n.updateState()},n.setIsFormLoading=function(t){n.isFormLoading=t,n.updateState()},n.updateState=function(){var t=n.isFormLoading;n.setChangePhoneButtonDisabled(t);var e=n.isFormLoading;n.setFormOtpInputReadonly(e);var o=!n.isOtpCooldown&&!n.isOtpResending&&!n.isFormLoading;n.setOtpResendButtonDisabled(!o);var i=n.isFormValid&&!n.isFormLoading;j.setClickable(i),j.setShowLoading(n.isFormLoading)},n}return n(s,e),s}(u))(C),R="step-4",V="referral-form",M="referral-input",D="referral",A="invalid-referral-error",H=new(function(e){function s(){var n=null!==e&&e.apply(this,arguments)||this;return n.form=document.getElementById(V),n.formReferralInput=document.getElementById(M),n.formManager=new d(V,[{name:D,validator:function(t){return!!t&&t.length>0}}]),n.formReferralInputInvalidElement=document.getElementById(A),n.isFormLoading=!1,n.isFormValid=!1,n.onActive=function(){h(!1),n.setupForm(),n.setupMainButton()},n.onInactive=function(){n.teardownForm(),n.teardownMainButton()},n.setupMainButton=function(){j.setText("Lanjut"),j.setOnClick((function(t){t.preventDefault(),n.submitForm()}))},n.teardownMainButton=function(){j.setOnClick(null)},n.setupForm=function(){var t;null===(t=n.formReferralInput)||void 0===t||t.addEventListener("input",n.handleFormReferralInputChange),n.form.onsubmit=function(t){t.preventDefault(),n.submitForm()},n.formManager.onValidityChange(n.setIsFormValid),n.formManager.initialize(),n.setIsFormValid(n.formManager.getFormValidState()),r(n.formReferralInput,n.formReferralInputInvalidElement)},n.teardownForm=function(){var t;null===(t=n.formReferralInput)||void 0===t||t.removeEventListener("input",n.handleFormReferralInputChange),n.form.onsubmit=void 0,n.formManager.onValidityChange(null),n.formManager.deinitialize()},n.handleFormReferralInputChange=function(){r(n.formReferralInput,n.formReferralInputInvalidElement)},n.setFormReferralInputReadonly=function(t){a(n.formReferralInput,t)},n.submitForm=function(){return o(n,void 0,void 0,(function(){var n,e,o,a,s,l,u,d,c,f,h;return i(this,(function(i){switch(i.label){case 0:if(this.isFormLoading||!this.isFormValid)return[2];r(this.formReferralInput,this.formReferralInputInvalidElement),this.setIsFormLoading(!0),n=this.formManager.getFormData(),e=null==n?void 0:n.get(D),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,p.request("POST","/v2/users/me/use-referral-code",{data:{code:e}})];case 2:return i.sent(),m(),location.assign("/signup-success"),[2];case 3:return o=i.sent(),this.setIsFormLoading(!1),a=null===(u=o)||void 0===u?void 0:u.status,s=null===(d=o)||void 0===d?void 0:d.data,422===a&&1533===(null===(f=null===(c=s)||void 0===c?void 0:c.data)||void 0===f?void 0:f.code)?(m(),J.goToSection(_),[2]):((l=null===(h=s)||void 0===h?void 0:h.message)||(l="Proses memuat halaman belum berhasil. Silakan coba lagi"),t(this.formReferralInput,this.formReferralInputInvalidElement,l),[3,4]);case 4:return[2]}}))}))},n.setIsFormValid=function(t){n.isFormValid=t,n.updateState()},n.setIsFormLoading=function(t){n.isFormLoading=t,n.updateState()},n.updateState=function(){var t=n.isFormLoading;n.setFormReferralInputReadonly(t);var e=n.isFormValid&&!n.isFormLoading;j.setClickable(e),j.setShowLoading(n.isFormLoading)},n}return n(s,e),s}(u))(R),_="step-4a",z=new(function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.onActive=function(){h(!1),n.setupMainButton()},n.onInactive=function(){n.teardownMainButton()},n.setupMainButton=function(){j.setText("Unduh RateS"),j.setClickable(!0),j.setOnClick(null);var t=j.getElement();t&&(t.setAttribute("href","https://ratesapp.app.link/Website-N5I8"),t.setAttribute("target","_blank"))},n.teardownMainButton=function(){var t=j.getElement();t&&(t.setAttribute("href",""),t.removeAttribute("target"))},n}return n(e,t),e}(u))(_),j=new function(t){var n=this;this.showLoading=!1,this.canClick=!0,this.setOnClick=function(t){var e=n.getElement();e&&(e.onclick="function"==typeof t?t:void 0)},this.setClickable=function(t){n.canClick=t,n.updateClickableState()},this.setShowLoading=function(t){var e=n.getElement();e&&(n.showLoading=t,t?(e.style.color="transparent",e.innerHTML=n.innerHTML+'<div class="button-spinner-wrapper">\n          <div class="lds-ring"><div></div><div></div><div></div><div></div></div>\n        </div>'):(e.innerHTML=n.innerHTML,e.style.color=""),n.updateClickableState())},this.setText=function(t,e){var o=n.getElement();if(o){var i=t.replace(" ","&nbsp;");o.innerHTML=i,n.innerHTML=i}},this.getElement=function(){return document.getElementById(n.buttonId)},this.updateClickableState=function(){var t=n.getElement();t&&(n.canClick&&!n.showLoading?(t.style.pointerEvents="",t.style.cursor="",t.style.backgroundColor="",t.style.color="",t.style.boxShadow=""):(t.style.pointerEvents="none",t.style.cursor="default",t.style.backgroundColor="#bcc2c6",t.style.color=n.showLoading?"transparent":"#79868e",t.style.boxShadow="none"))},this.buttonId=t;var e=this.getElement();e&&(this.innerHTML=e.innerHTML)}("next-button"),q=new URLSearchParams(window.location.search).get("referral_code"),N="",U=0;if(q){var G=document.getElementById("referral-code-value");G&&(G.innerText=q,G.style.opacity="1",h(!0))}var J=new function(t){var n=this;this.currentSectionIndex=null,this.sections=[],this.goToSection=function(t){var e;(e="number"==typeof t?t:n.sections.findIndex((function(n){return"string"==typeof t?n.id===t:n===t})))>=0&&e<n.sections.length&&n.handleGoToSection(e)},this.handleGoToSection=function(t){if(!(t>=n.sections.length)&&t!==n.currentSectionIndex){n.sections.forEach((function(t,e){n.setShowSectionIndex(e,!1)})),null!==n.currentSectionIndex&&n.sections[n.currentSectionIndex].onInactive();var e=n.sections[t];n.setShowSectionIndex(t,!0),e.onActive(),n.currentSectionIndex=t}},this.setShowSectionIndex=function(t,e){void 0===e&&(e=!0);var o=n.sections[t].getElement();o&&(o.style.display=e?"initial":"none")},this.sections=t}([g,w,x,H,z]);J.goToSection(0)}))}})[933]();